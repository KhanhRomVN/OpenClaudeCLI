<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src * data:;"
    />
    <title>Open Claude</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <!-- Tab Bar -->
    <div class="tab-bar" id="tab-bar">
      <div class="tabs-container" id="tabs-container">
        <!-- Tabs will be rendered here dynamically -->
      </div>
      <button class="new-tab-btn" id="new-tab-btn" title="New Tab (max 3)">
        +
      </button>
      <div class="tab-bar-actions">
        <button class="icon-btn" id="settings-btn" title="Settings">âš™</button>
        <button class="icon-btn" id="logout-btn" title="Sign Out">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>
    </div>

    <!-- Chat Container -->
    <div class="chat-container" id="chat-container">
      <!-- Messages Area -->
      <div class="messages" id="messages">
        <div class="empty-state" id="empty-state">
          <div class="empty-state-icon">âœ¦</div>
          <p>What can I help with?</p>
          <span class="hint">Claude is ready</span>
        </div>
      </div>

      <!-- Input Area -->
      <div class="input-area">
        <!-- Tab Badge -->
        <div class="input-badge" id="input-badge">
          <span class="badge-icon">ðŸ“Œ</span>
          <span class="badge-text" id="badge-text">Chat 1</span>
        </div>

        <!-- Input Wrapper -->
        <div class="input-wrapper">
          <!-- Model Selector (top-left corner) -->
          <select class="model-selector" id="model-selector">
            <option value="claude-opus-4-5-20251101">Opus 4.5</option>
            <option value="claude-sonnet-4-5-20250929">Sonnet 4.5</option>
            <option value="claude-haiku-4-5-20251001">Haiku 4.5</option>
          </select>

          <!-- Textarea -->
          <textarea
            id="input"
            placeholder="Message Claude..."
            rows="1"
          ></textarea>

          <!-- Input Footer -->
          <div class="input-footer">
            <button class="attach-btn" id="attach-btn" title="Attach files">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"
                ></path>
              </svg>
            </button>
            <button class="send-btn" id="send-btn">â†‘</button>
            <button class="stop-btn" id="stop-btn">â– </button>
          </div>
        </div>

        <!-- Attachment Container -->
        <div class="attachment-container" id="attachment-container">
          <div class="attachment-list" id="attachment-list"></div>
          <div class="attachment-status" id="attachment-status"></div>
        </div>
      </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
      <div class="modal-overlay"></div>
      <div class="modal-content login-modal-content">
        <div class="logo">
          <img src="logo.svg" alt="Claude" />
        </div>
        <h1>Welcome to Open Claude</h1>
        <p class="subtitle">Sign in to get started</p>
        <button class="login-btn" id="login-btn">Sign in with Claude</button>
        <div class="error" id="login-error"></div>
      </div>
    </div>

    <!-- Account Selection Modal -->
    <div class="modal" id="account-select-modal">
      <div class="modal-overlay" id="account-modal-overlay"></div>
      <div class="modal-content account-modal-content">
        <h3>Select Account for New Tab</h3>
        <p class="modal-subtitle">Choose which account to use for this tab</p>
        <div class="account-list" id="new-tab-account-list">
          <!-- Account options will be rendered here -->
        </div>
        <div class="modal-footer">
          <button class="modal-btn modal-btn-secondary" id="cancel-new-tab">
            Cancel
          </button>
          <button class="modal-btn modal-btn-primary" id="add-account-for-tab">
            <svg
              width="14"
              height="14"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Add New Account
          </button>
        </div>
      </div>
    </div>

    <!-- Hidden File Input -->
    <input
      type="file"
      id="file-input"
      multiple
      accept="*/*"
      style="display: none"
    />

    <script type="module" src="js/main.js"></script>
  </body>
</html>
